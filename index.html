<!DOCTYPE html>
<html nighteye="disabled">
  <head>
    <meta charset="utf8">
    <script src="node_modules/reveal.js/dist/reveal.js"></script>
    <script src="node_modules/reveal.js-plugins/chalkboard/plugin.js"></script>
    <script src="node_modules/@svgdotjs/svg.js/dist/svg.min.js"></script>
    <script src="node_modules/katex/dist/katex.min.js"></script>
    <script src="node_modules/katex/dist/contrib/auto-render.min.js"></script>
    <script src="node_modules/reveal.js/plugin/highlight/highlight.js"></script>
    <link rel="stylesheet" href="node_modules/reveal.js/plugin/highlight/monokai.css">
    <link rel="stylesheet" href="node_modules/reveal.js/dist/reveal.css">
    <link rel="stylesheet" href="node_modules/reveal.js/dist/theme/black.css">
    <link rel="stylesheet" href="node_modules/reveal.js-plugins/chalkboard/style.css">
    <link rel="stylesheet" href="node_modules/reveal.js-plugins/menu/font-awesome/css/all.css">
    <link rel="stylesheet" href="node_modules/@fontsource/merriweather/latin-400.css">
    <link rel="stylesheet" href="node_modules/@fontsource/merriweather/latin-400-italic.css">
    <link rel="stylesheet" href="node_modules/@fontsource/merriweather/latin-900.css">
    <link rel="stylesheet" href="node_modules/@fontsource/merriweather/latin-900-italic.css">
    <link rel="stylesheet" href="node_modules/katex/dist/katex.css">
    <style>:root {
  --r-main-font: Merriweather, serif;
  --r-heading-font: Merriweather, serif;
  --r-heading-text-transform: none;
  --r-background-color: #000;
  --r-selection-background-color: #444;
}
.reveal .slides section .fragment {
  opacity: 0;
  visibility: hidden;
  transition: all 1s ease;
  will-change: initial;
}
.reveal .slides section .fragment.visible {
  opacity: 1;
  visibility: inherit;
}
cite {
  color: #c0a5c0;
}
table.side-by-side {
  table-layout: fixed;
}
table.side-by-side td {
  width: 50%;
}
table.compact td,
table.compact th {
  padding: 0 0.5em;
}
.invert {
  filter: invert(1) hue-rotate(180deg);
}
.url {
  display: block;
  font-size: 30%;
  font-family: monospace;
}
.sep {
  color: #9a5b9a;
}
.img style {
  vertical-align: center;
}
.row {
  display: flex;
}
.column {
  flex: 50%;
}
del {
  color: #f00;
  background-color: #d3d3d3;
}
ins {
  color: #00f;
  background-color: #ff0;
}
li + li {
  margin-top: 20px;
}
.hl {
  background-color: #f00;
}

    </style>
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        <section>
          <h1 style="font-variant: small-caps">Recursion; Data Types</h1>
          <hr><br>
          <h4>Hengfeng Wei</h4>
          <h4><u>hfwei@nju.edu.cn</u></h4><img src="./7-data-types/figs/C.png" alt="The C Programming Language" width="200">
          <p>Nov. 22, 2021</p>
        </section>
        <section>
          <h2>Review</h2>
          <hr><br>
          <h3>Recursion</h3><img src="./6-recursion/figs/recursion-stair.jpg" alt="Recursion Logo" width="500">
          <p>A function that calls itself.</p>
        </section>
        <section>
          <h2>Recursion</h2>
          <hr><br>
          <h2 style="font-variant: small-caps">Thinking Recursively</h2><img src="./6-recursion/figs/think-recursively.jpg" alt="Thinking Recursively" width="600">
        </section>
        <section>
          <h2>Overview</h2>
          <hr><br>
          <p>Recursion (More Examples)</p><br>
          <h3>Data Types</h3><br>
          <p><code>static</code></p>
        </section>
        <section>
          <h2 class="r-fit-text" style="font-variant: small-caps">"Talk is Cheap. Show me the Code."</h2>
          <hr><br><img src="./7-data-types/figs/coding.png" alt="Let's Code" width="800">
        </section>
        <section>
          <h2>Binary Search</h2>
          <hr><br><img src="./7-data-types/figs/binary-search-mario.png" alt="Binary Search Mario" width="800"><br>
          <p><code>bsearch-re.c</code></p>
        </section>
        <section>
          <h2>Merge Sort</h2>
          <hr><img src="./7-data-types/figs/mergesort-example.png" alt="MergeSort Example" width="550">
          <p><code>merge-sort.c</code></p>
        </section>
        <section>
          <h2>Data Types</h2>
          <hr><br><br>
          <p>The <mark>type</mark> of a variable determines</p><br>
          <ul>
            <li>the set of <em>values</em> it may take on and</li><br>
            <li>what <em>operations</em> can be performed on them.</li>
          </ul><br><br>
          <p class="fragment"><code>int</code> &emsp; <code>double</code> &emsp; <code>char</code></p>
        </section>
        <section>
          <h2>Integral Types</h2>
          <hr><br><div class="row">
<div class="column">
          <p>Signed (有符号数)</p>
          <ul>
            <li><code>short int</code></li>
            <li><code>int</code></li>
            <li><code>long</code></li>
            <li><code>long long</code></li>
          </ul></div>
<div class="column">
          <p>Unsigned (无符号数)</p>
          <ul>
            <li><code><mark>bool</mark></code> (<code>stdbool.h</code>)</li>
            <li><code>unsigned short int</code></li>
            <li><code>unsigned int</code></li>
            <li><code>unsigned long</code></li>
            <li><code>unsigned long long</code></li>
          </ul></div>
</div><br>
          <p class="fragment"><code>char</code> (<code>unsigned/signed</code>)</p>
        </section>
        <section>
          <h2>Overflow (溢出)</h2>
          <hr><br>
          <ul>
            <li>有符号整数运算中发生溢出, 程序的行为是<mark>未定义</mark>的。</li>
            <li>无符号整数运算中发生溢出, 程序的行为是有定义的。</li>
          </ul>
        </section>
        <section>
          <h2>Integral Promotion (整型提升)</h2>
          <hr><br><br>
          <ul>
            <li>定义初始化</li>
            <li>赋值操作</li>
            <li>参数传递</li>
            <li>函数返回值</li>
          </ul>
        </section>
        <section>
          <h2>Integral Promotion (整型提升)</h2>
          <hr><br><img src="./7-data-types/figs/conversion.png" alt="Conversion" width="1500">
          <p class="fragment">"Arithmetic operators do not accept types smaller than <mark><code>int</code></mark> as arguments, and integral promotions are automatically applied."</p>
        </section>
        <section>
          <h2>Floating-point Numbers</h2>
          <hr><br>
          <ul>
            <li><code>float y = 5.0<mark>F</mark></code>
              <ul>
                <li><code>%f</code></li>
                <li><code>%f</code></li>
              </ul>
            </li>
            <li><code>double x = 5.0</code>
              <ul>
                <li><mark><code>%lf</code></mark></li>
                <li><code>%f</code></li>
              </ul>
            </li>
            <li><code>long double z = 5.0L</code>
              <ul>
                <li><code>%Lf</code></li>
                <li><code>%Lf</code></li>
              </ul>
            </li>
          </ul>
        </section>
        <section>
          <h2>Floating-point Numbers</h2>
          <hr><br><img src="./7-data-types/figs/fp-conversion.png" alt="FP Conversion" width="1000">
        </section>
        <section>
          <h2>Floating-point Arithmetic</h2>
          <hr><div class="row">
<div class="column"><img src="./7-data-types/figs/c-std-book.jpg" alt="The Standard C Library" width="350"></div>
<div class="column"><br><br><img src="./7-data-types/figs/bad-news.png" alt="Bad News" width="400"></div>
</div>
          <h4 class="fragment r-fit-text" style="font-variant: small-caps"><mark>"Floating-point Arithmetic is Hard."</mark></h4>
        </section>
        <section>
          <h2>Floating-point Arithmetic</h2>
          <hr><img src="./7-data-types/figs/fp.png" alt="Floating Point Number Line" width="1000">
          <p><code><mark>float.h</mark></code> (Section 23.1)</p>
        </section>
        <section>
          <h2>Floating-point Arithmetic</h2>
          <hr><br><br>
          <ul>
            <li>Overflow (上溢)</li><br>
            <li>Underflow (下溢)</li><br>
            <li>Significance Loss (精度丢失)</li>
            <ul>
              <li><code>significance.c</code></li>
            </ul>
          </ul>
        </section>
        <section>
          <h2>Floating-point Arithmetic</h2>
          <hr><br>
          <p>"Many applications don't need floating-point arithmetic at all."</p><img src="./7-data-types/figs/good-news.jpg" alt="Good News" width="400"><br>
          <p class="fragment">Use <code><mark>math.h</mark></code> (Section 23.3) whenever possible.</p>
        </section>
        <section>
          <h2>C 语言安全编码标准</h2>
          <hr><br><img src="./7-data-types/figs/cert-c.jpeg" alt="Cert C Book" width="400">
        </section>
        <section>
          <h2>整型数安全编码标准 (INT)</h2>
          <hr><br>
          <ul>
            <li>使用正确的整数类型</li><br>
            <li>确保无符号整数运算不产生回绕</li><br>
            <li>确保有符号整数运算不造成溢出</li><br>
            <li>确保除法与余数运算不造成除0错误</li><br>
            <li>确保整数转换不会造成数据丢失或者错误解释</li>
          </ul>
        </section>
        <section>
          <h2>浮点数安全编码标准 (FLP)</h2>
          <hr><br>
          <ul>
            <li>不要使用浮点数变量作为循环计数器</li><br>
            <li>避免或者检测数学函数中的定义域与值域错误</li><br>
            <li>确保浮点数转换在新类型的范围中</li>
          </ul>
        </section>
        <section>
          <h2>References</h2>
          <hr><br><div class="row">
<div class="column"><img src="./7-data-types/figs/csapp.jpeg" alt="CSAPP Book" width="400"></div>
<div class="column"><img src="./7-data-types/figs/taocp-2.jpg" alt="TAOCP Vol2" width="350"></div>
</div>
        </section>
      </div>
    </div>
    <script>(function() {
  Reveal.initialize({
    center: false,
    slideNumber: true,
    hash: true,
    transition: 'none',
    width: 1100,
    height: 768,
    minScale: 0.1,
    maxScale: 10,
    plugins: [RevealChalkboard, RevealHighlight],
    chalkboard: {
      background: ['none', 'node_modules/reveal.js-plugins/chalkboard/img/blackboard.png'],
      boardmarkerWidth: 7,
      colorButtons: true,
      theme: 'whiteboard'
    }
  });

  renderMathInElement(document.body, {
    delimiters: [
      {
        left: "$$",
        right: "$$",
        display: true
      }, {
        left: "$",
        right: "$",
        display: false
      }
    ]
  });

}).call(this);

      <!-- Include custom scripts etc. here-->
    </script>
  </body>
</html>