"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _wrap_array = _interopRequireDefault(require("../helpers/wrap_array"));

var _wrap_tokens = _interopRequireDefault(require("../helpers/wrap_tokens"));

var _plugin = _interopRequireDefault(require("../plugin"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/** @module */

/**
 * Marpit container plugin.
 *
 * @alias module:markdown/container
 * @param {MarkdownIt} md markdown-it instance.
 */
function container(md) {
  const containers = (0, _wrap_array.default)(md.marpit.options.container);
  if (!containers) return;
  const target = [...containers].reverse();
  md.core.ruler.push('marpit_containers', state => {
    if (state.inlineMode) return;

    for (const cont of target) state.tokens = (0, _wrap_tokens.default)(state.Token, 'marpit_containers', cont, state.tokens);
  });
}

var _default = (0, _plugin.default)(container);

exports.default = _default;