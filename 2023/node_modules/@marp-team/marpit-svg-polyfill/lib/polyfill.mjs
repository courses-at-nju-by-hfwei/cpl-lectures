const e="marpitSVGPolyfill:setZoomFactor,",t=Symbol(),o=Symbol();function n(e=document){if(e[t])return e[t];let o=!0;const n=()=>{o=!1,delete e[t]};Object.defineProperty(e,t,{configurable:!0,value:n});const i=r();if(i.length>0){const t=()=>{for(const t of i)t({target:e});o&&window.requestAnimationFrame(t)};t()}return n}const r=()=>"Apple Computer, Inc."===navigator.vendor?[a]:[];let i,l;function a(t){const n="object"==typeof t&&t.target||document,r="object"==typeof t?t.zoom:t;window[o]||(Object.defineProperty(window,o,{configurable:!0,value:!0}),window.addEventListener("message",(({data:t,origin:o})=>{if(o===window.origin)try{if(t&&"string"==typeof t&&t.startsWith(e)){const[,e]=t.split(","),o=Number.parseFloat(e);Number.isNaN(o)||(l=o)}}catch(e){console.error(e)}})));let a=!1;Array.from(n.querySelectorAll("svg[data-marpit-svg]"),(e=>{var t,o,n,s;e.style.transform||(e.style.transform="translateZ(0)");const c=r||l||e.currentScale||1;i!==c&&(i=c,a=c);const d=e.getBoundingClientRect(),{length:f}=e.children;for(let r=0;r<f;r+=1){const i=e.children[r];if(i.getScreenCTM){const e=i.getScreenCTM();if(e){const r=null!==(o=null===(t=i.x)||void 0===t?void 0:t.baseVal.value)&&void 0!==o?o:0,l=null!==(s=null===(n=i.y)||void 0===n?void 0:n.baseVal.value)&&void 0!==s?s:0,a=i.children.length;for(let t=0;t<a;t+=1){const o=i.children[t];if("SECTION"===o.tagName){const{style:t}=o;t.transformOrigin||(t.transformOrigin=`${-r}px ${-l}px`),t.transform=`scale(${c}) matrix(${e.a}, ${e.b}, ${e.c}, ${e.d}, ${e.e-d.left}, ${e.f-d.top}) translateZ(0.0001px)`;break}}}}}})),!1!==a&&Array.from(n.querySelectorAll("iframe"),(({contentWindow:t})=>{null==t||t.postMessage(`${e}${a}`,"null"===window.origin?"*":window.origin)}))}i=1,l=void 0;export{n as default,n as observe,r as polyfills,a as webkit};
